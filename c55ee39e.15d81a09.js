(window.webpackJsonp=window.webpackJsonp||[]).push([[28],{84:function(e,t,a){"use strict";a.r(t),a.d(t,"frontMatter",(function(){return c})),a.d(t,"metadata",(function(){return i})),a.d(t,"rightToc",(function(){return o})),a.d(t,"default",(function(){return u}));var n=a(2),l=a(6),r=(a(0),a(96)),c={title:"Queues"},i={unversionedId:"content/queue",id:"content/queue",isDocsHomePage:!1,title:"Queues",description:"Most in game actions are queued.",source:"@site/docs/content/queue.md",slug:"/content/queue",permalink:"/docs/content/queue",editUrl:"https://github.com/RuneDocs/Documentation/edit/master/docs/content/queue.md",version:"current",sidebar:"someSidebar",previous:{title:"Poison",permalink:"/docs/content/status-effects/poison"},next:{title:"Functionality",permalink:"/docs/functionality"}},o=[{value:"Ai queues",id:"ai-queues",children:[]},{value:"Weak - cancelled by movement",id:"weak---cancelled-by-movement",children:[]},{value:"Normal - Waits for interfaces",id:"normal---waits-for-interfaces",children:[]},{value:"Strong - Closes interfaces",id:"strong---closes-interfaces",children:[]},{value:"None",id:"none",children:[]},{value:"Interaction Movement",id:"interaction-movement",children:[]},{value:"Food",id:"food",children:[]},{value:"Bury bones",id:"bury-bones",children:[]},{value:"Drop item &amp; alching",id:"drop-item--alching",children:[]},{value:"Interfaces",id:"interfaces",children:[{value:"Interfaces that pause movement",id:"interfaces-that-pause-movement",children:[]},{value:"Interfaces that don&#39;t stop movement",id:"interfaces-that-dont-stop-movement",children:[]},{value:"Interfaces that stop movement",id:"interfaces-that-stop-movement",children:[]}]}],b={rightToc:o};function u(e){var t=e.components,a=Object(l.a)(e,["components"]);return Object(r.b)("wrapper",Object(n.a)({},b,a,{components:t,mdxType:"MDXLayout"}),Object(r.b)("p",null,"Most in game actions are queued."),Object(r.b)("p",null,"The priority of a queued action is either weak, normal, strong"),Object(r.b)("blockquote",null,Object(r.b)("p",{parentName:"blockquote"},"A weakqueue is cancelled if the player clicks away - commonly used for Make-X. Queues are weak / strong / normal.\n",Object(r.b)("a",Object(n.a)({parentName:"p"},{href:"https://github.com/RuneStar/leaks/blob/master/153.txt"}),"https://github.com/RuneStar/leaks/blob/master/153.txt")),Object(r.b)("p",{parentName:"blockquote"},"A standard one will wait if you have a menu open, and execute when it closes. A strong one will close menus to execute itself sooner.\n",Object(r.b)("a",Object(n.a)({parentName:"p"},{href:"https://github.com/RuneStar/leaks/blob/master/142.txt"}),"https://github.com/RuneStar/leaks/blob/master/142.txt"))),Object(r.b)("p",null,"Both npcs and players have queues"),Object(r.b)("p",null,"Runescript queue has the format ",Object(r.b)("inlineCode",{parentName:"p"},"queue(type, tick delay)(parameters)")),Object(r.b)("p",null,Object(r.b)("a",Object(n.a)({parentName:"p"},{href:"https://github.com/RuneStar/leaks/blob/master/102.0.jpg"}),"npc_queue(npc_say,2)")),Object(r.b)("p",null,Object(r.b)("a",Object(n.a)({parentName:"p"},{href:"https://github.com/RuneStar/leaks/blob/master/176.0.jpg"}),"combat_clearqueue & player_end_poison")),Object(r.b)("p",null,Object(r.b)("a",Object(n.a)({parentName:"p"},{href:"https://github.com/RuneStar/leaks/blob/master/205.0.png"}),"weakqueue","*","(smith_generic,3)")),Object(r.b)("p",null,Object(r.b)("a",Object(n.a)({parentName:"p"},{href:"https://github.com/RuneStar/leaks/blob/master/242.spawns-runescript.png"}),"clearqueue(fade_clear)")),Object(r.b)("p",null,Object(r.b)("a",Object(n.a)({parentName:"p"},{href:"https://github.com/RuneStar/leaks/blob/master/319.SoulWars8.png"}),"soul-wars bandage heal queue")),Object(r.b)("h2",{id:"ai-queues"},"Ai queues"),Object(r.b)("p",null,"Are they related?"),Object(r.b)("table",null,Object(r.b)("thead",{parentName:"table"},Object(r.b)("tr",{parentName:"thead"},Object(r.b)("th",Object(n.a)({parentName:"tr"},{align:null}),"Id"),Object(r.b)("th",Object(n.a)({parentName:"tr"},{align:null}),"Description"))),Object(r.b)("tbody",{parentName:"table"},Object(r.b)("tr",{parentName:"tbody"},Object(r.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"1"),Object(r.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"Retaliation")),Object(r.b)("tr",{parentName:"tbody"},Object(r.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"2"),Object(r.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"Damage")),Object(r.b)("tr",{parentName:"tbody"},Object(r.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"3"),Object(r.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"Bind effects")),Object(r.b)("tr",{parentName:"tbody"},Object(r.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"4..20"),Object(r.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"Custom")))),Object(r.b)("p",null,Object(r.b)("a",Object(n.a)({parentName:"p"},{href:"https://twitter.com/Chrischis2/status/644620927519617024"}),"ai_queue")),Object(r.b)("h2",{id:"weak---cancelled-by-movement"},"Weak - cancelled by movement"),Object(r.b)("ul",null,Object(r.b)("li",{parentName:"ul"},"Make-X",Object(r.b)("ul",{parentName:"li"},Object(r.b)("li",{parentName:"ul"},"Smithing"),Object(r.b)("li",{parentName:"ul"},"Crafting"),Object(r.b)("li",{parentName:"ul"},"Fletching"),Object(r.b)("li",{parentName:"ul"},"Herblore"),Object(r.b)("li",{parentName:"ul"},"Bones on altar"),Object(r.b)("li",{parentName:"ul"},"Runecrafting"),Object(r.b)("li",{parentName:"ul"},"Cooking"),Object(r.b)("li",{parentName:"ul"},"Fishing"),Object(r.b)("li",{parentName:"ul"},"Mining"),Object(r.b)("li",{parentName:"ul"},"Farming"),Object(r.b)("li",{parentName:"ul"},"Summoning infuse pouches"))),Object(r.b)("li",{parentName:"ul"},"Gathering",Object(r.b)("ul",{parentName:"li"},Object(r.b)("li",{parentName:"ul"},"Woodcutting"),Object(r.b)("li",{parentName:"ul"},"Firemaking"))),Object(r.b)("li",{parentName:"ul"},"Normal emotes"),Object(r.b)("li",{parentName:"ul"},"Sitting home teleport"),Object(r.b)("li",{parentName:"ul"},"Movement - (interaction)"),Object(r.b)("li",{parentName:"ul"},"Filling vials")),Object(r.b)("h2",{id:"normal---waits-for-interfaces"},"Normal - Waits for interfaces"),Object(r.b)("ul",null,Object(r.b)("li",{parentName:"ul"},"Level up (gfx, sound, dialogue)"),Object(r.b)("li",{parentName:"ul"},"Poison - Not cancelled"),Object(r.b)("li",{parentName:"ul"},Object(r.b)("del",{parentName:"li"},"XP drops - Not cancelled")),Object(r.b)("li",{parentName:"ul"},Object(r.b)("del",{parentName:"li"},"Consuming food and potions - Not cancelled")),Object(r.b)("li",{parentName:"ul"},Object(r.b)("del",{parentName:"li"},"Container modifications - Not cancelled")),Object(r.b)("li",{parentName:"ul"},"Movement - (walk to tile, follow)"),Object(r.b)("li",{parentName:"ul"},"Combat - Cancellable (attacking)"),Object(r.b)("li",{parentName:"ul"},Object(r.b)("del",{parentName:"li"},"Most dialogues"))),Object(r.b)("h2",{id:"strong---closes-interfaces"},"Strong - Closes interfaces"),Object(r.b)("p",null,"Cancels Weak, suspends normal"),Object(r.b)("ul",null,Object(r.b)("li",{parentName:"ul"},"Hits"),Object(r.b)("li",{parentName:"ul"},"Death"),Object(r.b)("li",{parentName:"ul"},"Teleports")),Object(r.b)("h2",{id:"none"},"None"),Object(r.b)("ul",null,Object(r.b)("li",{parentName:"ul"},"Hitpoint renewal")),Object(r.b)("h2",{id:"interaction-movement"},"Interaction Movement"),Object(r.b)("p",null,"Can't be suspended if right next too - means there's a pre-movement check\nCan be suspended if have to move to reach target - Movement isn't suspended like walk to tile\nOnly walk to tile can have movement-suspended on the first tick"),Object(r.b)("h2",{id:"food"},"Food"),Object(r.b)("p",null,"Doesn't stop movement, stops action at end of movement"),Object(r.b)("p",null,"Pot + food doesn't work in the same tick, only food + pot"),Object(r.b)("p",null,"Kara + food takes normal delay\n1 tick healing must be Food + Pot + Karambwan"),Object(r.b)("h2",{id:"bury-bones"},"Bury bones"),Object(r.b)("p",null,"Stops movement, but movement is allowed to start after first tick (animations combine and still get xp later)"),Object(r.b)("h2",{id:"drop-item--alching"},"Drop item & alching"),Object(r.b)("p",null,"Doesn't stop movement, does stop action at the end of movement"),Object(r.b)("p",null,"All actions cancels walking and combat, closes interfaces"),Object(r.b)("ul",null,Object(r.b)("li",{parentName:"ul"},"Emotes"),Object(r.b)("li",{parentName:"ul"},"Bury bones"),Object(r.b)("li",{parentName:"ul"},"Dropping items"),Object(r.b)("li",{parentName:"ul"},"Using one item on another"),Object(r.b)("li",{parentName:"ul"},"Using item on a npc")),Object(r.b)("blockquote",null,Object(r.b)("p",{parentName:"blockquote"},"Appears all player actions close interfaces")),Object(r.b)("h2",{id:"interfaces"},"Interfaces"),Object(r.b)("h3",{id:"interfaces-that-pause-movement"},"Interfaces that pause movement"),Object(r.b)("ul",null,Object(r.b)("li",{parentName:"ul"},"Skill guides"),Object(r.b)("li",{parentName:"ul"},Object(r.b)("del",{parentName:"li"},"Dialogues")," (Is it dialogues or is it leveling up itself?)")),Object(r.b)("blockquote",null,Object(r.b)("p",{parentName:"blockquote"},"Opening a skill guide will stall an action from performing e.g attacking, picking up an item until the interface is closed")),Object(r.b)("h3",{id:"interfaces-that-dont-stop-movement"},"Interfaces that don't stop movement"),Object(r.b)("ul",null,Object(r.b)("li",{parentName:"ul"},"Quest guides"),Object(r.b)("li",{parentName:"ul"},"Achievement guides"),Object(r.b)("li",{parentName:"ul"},"Clan setup")),Object(r.b)("h3",{id:"interfaces-that-stop-movement"},"Interfaces that stop movement"),Object(r.b)("ul",null,Object(r.b)("li",{parentName:"ul"},"Settings"),Object(r.b)("li",{parentName:"ul"},"Equipment/Price Checker/Items kept on death")),Object(r.b)("h1",{id:"questions"},"Questions"),Object(r.b)("ul",null,Object(r.b)("li",{parentName:"ul"},Object(r.b)("p",{parentName:"li"},"Are delays handled before or as part of the queue?")),Object(r.b)("li",{parentName:"ul"},Object(r.b)("p",{parentName:"li"},"If all actions clear queues, what about poison?")),Object(r.b)("li",{parentName:"ul"},Object(r.b)("p",{parentName:"li"},"What queue priorities cancel what? - Cancels all priority queues below it, except poisons? see above")),Object(r.b)("li",{parentName:"ul"},Object(r.b)("p",{parentName:"li"},"Are interfaces part of the queue?")),Object(r.b)("li",{parentName:"ul"},Object(r.b)("p",{parentName:"li"},"How do actions which a player can't click out of work? (Obstacles, Ectofunctus) - Just queue 3 actions with the correct delays, unfreezing the player after")),Object(r.b)("li",{parentName:"ul"},Object(r.b)("p",{parentName:"li"},"How do animations play into this? (Teleporting, Emotes) - Not all emotes suspend hits, most suspend movement?")),Object(r.b)("li",{parentName:"ul"},Object(r.b)("p",{parentName:"li"},"Are dialogues part of the queue? - Yes definitely, level up suspends combat")),Object(r.b)("li",{parentName:"ul"},Object(r.b)("p",{parentName:"li"},"If something is added to the queue by a queue action, does it activate on the same tick or the next one? - Same, delay depending.")),Object(r.b)("li",{parentName:"ul"},Object(r.b)("p",{parentName:"li"},"When is a queue processed, is it each tick or more frequently?"))),Object(r.b)("h1",{id:"notes"},"Notes"),Object(r.b)("ul",null,Object(r.b)("li",{parentName:"ul"},"Effects",Object(r.b)("ul",{parentName:"li"},Object(r.b)("li",{parentName:"ul"},"Passive",Object(r.b)("ul",{parentName:"li"},Object(r.b)("li",{parentName:"ul"},"Godwars snow"),Object(r.b)("li",{parentName:"ul"},"Monkey madness tunnel rock-fall"),Object(r.b)("li",{parentName:"ul"},"Barrows crypt crumble"))),Object(r.b)("li",{parentName:"ul"},"Active",Object(r.b)("ul",{parentName:"li"},Object(r.b)("li",{parentName:"ul"},"Spells (confuse, bind, etc..)"),Object(r.b)("li",{parentName:"ul"},"Prayers (leech, boost etc..)"),Object(r.b)("li",{parentName:"ul"},"Poison"))))),Object(r.b)("li",{parentName:"ul"},"Granite maul special; click the spec bar twice, switch to a different weapon, hit, switch back to granite maul and it would auto spec"),Object(r.b)("li",{parentName:"ul"},"Karambwan/pizzas/pies/chocolate bomb/tangled toad legs - doesn't clear queue, separate from regular food"),Object(r.b)("li",{parentName:"ul"},"Potions and food are separate actions but on the same priority"),Object(r.b)("li",{parentName:"ul"},"Equipping and 1-tick changing"),Object(r.b)("li",{parentName:"ul"},"D-Spear (suspends hits)"),Object(r.b)("li",{parentName:"ul"},"Level teleport interface stall - configure exp drops")),Object(r.b)("p",null,"first two foods are cooked at 3 ticks ea, ones after that cook at 4 ticks\nmost hits are determined upon added to damage queue\ncombat delay is that of the last weapon attacked with"))}u.isMDXComponent=!0},96:function(e,t,a){"use strict";a.d(t,"a",(function(){return s})),a.d(t,"b",(function(){return d}));var n=a(0),l=a.n(n);function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function c(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function i(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?c(Object(a),!0).forEach((function(t){r(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):c(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function o(e,t){if(null==e)return{};var a,n,l=function(e,t){if(null==e)return{};var a,n,l={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(l[a]=e[a]);return l}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(l[a]=e[a])}return l}var b=l.a.createContext({}),u=function(e){var t=l.a.useContext(b),a=t;return e&&(a="function"==typeof e?e(t):i(i({},t),e)),a},s=function(e){var t=u(e.components);return l.a.createElement(b.Provider,{value:t},e.children)},p={inlineCode:"code",wrapper:function(e){var t=e.children;return l.a.createElement(l.a.Fragment,{},t)}},m=l.a.forwardRef((function(e,t){var a=e.components,n=e.mdxType,r=e.originalType,c=e.parentName,b=o(e,["components","mdxType","originalType","parentName"]),s=u(a),m=n,d=s["".concat(c,".").concat(m)]||s[m]||p[m]||r;return a?l.a.createElement(d,i(i({ref:t},b),{},{components:a})):l.a.createElement(d,i({ref:t},b))}));function d(e,t){var a=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var r=a.length,c=new Array(r);c[0]=m;var i={};for(var o in t)hasOwnProperty.call(t,o)&&(i[o]=t[o]);i.originalType=e,i.mdxType="string"==typeof e?e:n,c[1]=i;for(var b=2;b<r;b++)c[b]=a[b];return l.a.createElement.apply(null,c)}return l.a.createElement.apply(null,a)}m.displayName="MDXCreateElement"}}]);