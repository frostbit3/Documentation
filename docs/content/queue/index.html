<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-alpha.65">
<title data-react-helmet="true">Queues | RuneDocs</title><meta data-react-helmet="true" name="docsearch:version" content="current,latest"><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:title" content="Queues | RuneDocs"><meta data-react-helmet="true" name="description" content="Most in game actions are queued."><meta data-react-helmet="true" property="og:description" content="Most in game actions are queued."><meta data-react-helmet="true" property="og:url" content="https://frostbit3.github.io/Documentation/docs/content/queue"><link data-react-helmet="true" rel="shortcut icon" href="/Documentation/img/favicon.png"><link data-react-helmet="true" rel="canonical" href="https://frostbit3.github.io/Documentation/docs/content/queue"><link rel="stylesheet" href="/Documentation/styles.fd28a2b2.css">
<link rel="preload" href="/Documentation/styles.ccaab3c9.js" as="script">
<link rel="preload" href="/Documentation/runtime~main.bd39577b.js" as="script">
<link rel="preload" href="/Documentation/main.7ff4b300.js" as="script">
<link rel="preload" href="/Documentation/1.bd850abb.js" as="script">
<link rel="preload" href="/Documentation/2.1cb194f7.js" as="script">
<link rel="preload" href="/Documentation/39.bd3f8703.js" as="script">
<link rel="preload" href="/Documentation/40.fefb988d.js" as="script">
<link rel="preload" href="/Documentation/935f2afb.ce50d10c.js" as="script">
<link rel="preload" href="/Documentation/17896441.ef4fa0ad.js" as="script">
<link rel="preload" href="/Documentation/c55ee39e.ac45defd.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand" href="/Documentation/"><img class="navbar__logo" src="/Documentation/img/logo.svg" alt="RuneDocs Logo"><strong class="navbar__title">RuneDocs</strong></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/Documentation/docs/">Docs</a><a class="navbar__item navbar__link" href="/Documentation/blog">Blog</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/RuneDocs/Documentation" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub</a><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_2aTZ"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_BsTx">ðŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_BsTx">ðŸŒž</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/Documentation/"><img class="navbar__logo" src="/Documentation/img/logo.svg" alt="RuneDocs Logo"><strong class="navbar__title">RuneDocs</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link navbar__link--active" href="/Documentation/docs/">Docs</a></li><li class="menu__list-item"><a class="menu__link" href="/Documentation/blog">Blog</a></li><li class="menu__list-item"><a href="https://github.com/RuneDocs/Documentation" target="_blank" rel="noopener noreferrer" class="menu__link">GitHub</a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_2gpo"><div class="docSidebarContainer_3_JD" role="complementary"><div class="sidebar_2urC"><div class="menu menu--responsive menu_5FrY"><button aria-label="Open Menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_Dm3K" xmlns="http://www.w3.org/2000/svg" height="24" width="24" viewBox="0 0 32 32" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">Content</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/Documentation/docs/content/combat">Combat</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/Documentation/docs/content/status-effects/poison">Poison</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/Documentation/docs/content/queue">Queues</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Functionality</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/Documentation/docs/functionality">Functionality</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/Documentation/docs/functionality/map">Game Map</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Naming</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/Documentation/docs/naming/glossary">Glossary</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Protocol</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/Documentation/docs/protocol/r667/r667-client">Revision 667 Client</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/Documentation/docs/protocol/r667/r667-server">Revision 667 Server</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">RuneScript</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/Documentation/docs/runescript">RuneScript</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Docusaurus</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/Documentation/docs/">Style Guide</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/Documentation/docs/doc2">Document Number 2</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/Documentation/docs/doc3">This is Document Number 3</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Features</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/Documentation/docs/mdx">Powered by MDX</a></li></ul></li></ul></div></div></div><main class="docMainContainer_3EyW"><div class="container padding-vert--lg docItemWrapper_1EkI"><div class="row"><div class="col docItemCol_2ASc"><div class="docItemContainer_3QWW"><article><header><h1 class="docTitle_1Lrw">Queues</h1></header><div class="markdown"><p>Most in game actions are queued.</p><p>The priority of a queued action is either weak, normal, strong</p><blockquote><p>A weakqueue is cancelled if the player clicks away - commonly used for Make-X. Queues are weak / strong / normal.
<a href="https://github.com/RuneStar/leaks/blob/master/153.txt" target="_blank" rel="noopener noreferrer">https://github.com/RuneStar/leaks/blob/master/153.txt</a></p><p>A standard one will wait if you have a menu open, and execute when it closes. A strong one will close menus to execute itself sooner.
<a href="https://github.com/RuneStar/leaks/blob/master/142.txt" target="_blank" rel="noopener noreferrer">https://github.com/RuneStar/leaks/blob/master/142.txt</a></p></blockquote><p>Both npcs and players have queues</p><p>Runescript queue has the format <code>queue(type, tick delay)(parameters)</code></p><p><a href="https://github.com/RuneStar/leaks/blob/master/102.0.jpg" target="_blank" rel="noopener noreferrer">npc_queue(npc_say,2)</a></p><p><a href="https://github.com/RuneStar/leaks/blob/master/176.0.jpg" target="_blank" rel="noopener noreferrer">combat_clearqueue &amp; player_end_poison</a></p><p><a href="https://github.com/RuneStar/leaks/blob/master/205.0.png" target="_blank" rel="noopener noreferrer">weakqueue*(smith_generic,3)</a></p><p><a href="https://github.com/RuneStar/leaks/blob/master/242.spawns-runescript.png" target="_blank" rel="noopener noreferrer">clearqueue(fade_clear)</a></p><p><a href="https://github.com/RuneStar/leaks/blob/master/319.SoulWars8.png" target="_blank" rel="noopener noreferrer">soul-wars bandage heal queue</a></p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="ai-queues"></a>Ai queues<a aria-hidden="true" tabindex="-1" class="hash-link" href="#ai-queues" title="Direct link to heading">#</a></h2><p>Are they related?</p><table><thead><tr><th>Id</th><th>Description</th></tr></thead><tbody><tr><td>1</td><td>Retaliation</td></tr><tr><td>2</td><td>Damage</td></tr><tr><td>3</td><td>Bind effects</td></tr><tr><td>4..20</td><td>Custom</td></tr></tbody></table><p><a href="https://twitter.com/Chrischis2/status/644620927519617024" target="_blank" rel="noopener noreferrer">ai_queue</a></p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="weak---cancelled-by-movement"></a>Weak - cancelled by movement<a aria-hidden="true" tabindex="-1" class="hash-link" href="#weak---cancelled-by-movement" title="Direct link to heading">#</a></h2><ul><li>Make-X<ul><li>Smithing</li><li>Crafting</li><li>Fletching</li><li>Herblore</li><li>Bones on altar</li><li>Runecrafting</li><li>Cooking</li><li>Fishing</li><li>Mining</li><li>Farming</li><li>Summoning infuse pouches</li></ul></li><li>Gathering<ul><li>Woodcutting</li><li>Firemaking</li></ul></li><li>Normal emotes</li><li>Sitting home teleport</li><li>Movement - (interaction)</li><li>Filling vials</li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="normal---waits-for-interfaces"></a>Normal - Waits for interfaces<a aria-hidden="true" tabindex="-1" class="hash-link" href="#normal---waits-for-interfaces" title="Direct link to heading">#</a></h2><ul><li>Level up (gfx, sound, dialogue)</li><li>Poison - Not cancelled</li><li><del>XP drops - Not cancelled</del></li><li><del>Consuming food and potions - Not cancelled</del></li><li><del>Container modifications - Not cancelled</del></li><li>Movement - (walk to tile, follow)</li><li>Combat - Cancellable (attacking)</li><li><del>Most dialogues</del></li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="strong---closes-interfaces"></a>Strong - Closes interfaces<a aria-hidden="true" tabindex="-1" class="hash-link" href="#strong---closes-interfaces" title="Direct link to heading">#</a></h2><p>Cancels Weak, suspends normal</p><ul><li>Hits</li><li>Death</li><li>Teleports</li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="none"></a>None<a aria-hidden="true" tabindex="-1" class="hash-link" href="#none" title="Direct link to heading">#</a></h2><ul><li>Hitpoint renewal</li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="interaction-movement"></a>Interaction Movement<a aria-hidden="true" tabindex="-1" class="hash-link" href="#interaction-movement" title="Direct link to heading">#</a></h2><p>Can&#x27;t be suspended if right next too - means there&#x27;s a pre-movement check
Can be suspended if have to move to reach target - Movement isn&#x27;t suspended like walk to tile
Only walk to tile can have movement-suspended on the first tick</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="food"></a>Food<a aria-hidden="true" tabindex="-1" class="hash-link" href="#food" title="Direct link to heading">#</a></h2><p>Doesn&#x27;t stop movement, stops action at end of movement</p><p>Pot + food doesn&#x27;t work in the same tick, only food + pot</p><p>Kara + food takes normal delay
1 tick healing must be Food + Pot + Karambwan</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="bury-bones"></a>Bury bones<a aria-hidden="true" tabindex="-1" class="hash-link" href="#bury-bones" title="Direct link to heading">#</a></h2><p>Stops movement, but movement is allowed to start after first tick (animations combine and still get xp later)</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="drop-item--alching"></a>Drop item &amp; alching<a aria-hidden="true" tabindex="-1" class="hash-link" href="#drop-item--alching" title="Direct link to heading">#</a></h2><p>Doesn&#x27;t stop movement, does stop action at the end of movement</p><p>All actions cancels walking and combat, closes interfaces</p><ul><li>Emotes</li><li>Bury bones</li><li>Dropping items</li><li>Using one item on another</li><li>Using item on a npc</li></ul><blockquote><p>Appears all player actions close interfaces</p></blockquote><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="interfaces"></a>Interfaces<a aria-hidden="true" tabindex="-1" class="hash-link" href="#interfaces" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="interfaces-that-pause-movement"></a>Interfaces that pause movement<a aria-hidden="true" tabindex="-1" class="hash-link" href="#interfaces-that-pause-movement" title="Direct link to heading">#</a></h3><ul><li>Skill guides</li><li><del>Dialogues</del> (Is it dialogues or is it leveling up itself?)</li></ul><blockquote><p>Opening a skill guide will stall an action from performing e.g attacking, picking up an item until the interface is closed</p></blockquote><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="interfaces-that-dont-stop-movement"></a>Interfaces that don&#x27;t stop movement<a aria-hidden="true" tabindex="-1" class="hash-link" href="#interfaces-that-dont-stop-movement" title="Direct link to heading">#</a></h3><ul><li>Quest guides</li><li>Achievement guides</li><li>Clan setup</li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="interfaces-that-stop-movement"></a>Interfaces that stop movement<a aria-hidden="true" tabindex="-1" class="hash-link" href="#interfaces-that-stop-movement" title="Direct link to heading">#</a></h3><ul><li>Settings</li><li>Equipment/Price Checker/Items kept on death</li></ul><h1><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="questions"></a>Questions<a aria-hidden="true" tabindex="-1" class="hash-link" href="#questions" title="Direct link to heading">#</a></h1><ul><li><p>Are delays handled before or as part of the queue?</p></li><li><p>If all actions clear queues, what about poison?</p></li><li><p>What queue priorities cancel what? - Cancels all priority queues below it, except poisons? see above</p></li><li><p>Are interfaces part of the queue?</p></li><li><p>How do actions which a player can&#x27;t click out of work? (Obstacles, Ectofunctus) - Just queue 3 actions with the correct delays, unfreezing the player after</p></li><li><p>How do animations play into this? (Teleporting, Emotes) - Not all emotes suspend hits, most suspend movement?</p></li><li><p>Are dialogues part of the queue? - Yes definitely, level up suspends combat</p></li><li><p>If something is added to the queue by a queue action, does it activate on the same tick or the next one? - Same, delay depending.</p></li><li><p>When is a queue processed, is it each tick or more frequently?</p></li></ul><h1><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="notes"></a>Notes<a aria-hidden="true" tabindex="-1" class="hash-link" href="#notes" title="Direct link to heading">#</a></h1><ul><li>Effects<ul><li>Passive<ul><li>Godwars snow</li><li>Monkey madness tunnel rock-fall</li><li>Barrows crypt crumble</li></ul></li><li>Active<ul><li>Spells (confuse, bind, etc..)</li><li>Prayers (leech, boost etc..)</li><li>Poison</li></ul></li></ul></li><li>Granite maul special; click the spec bar twice, switch to a different weapon, hit, switch back to granite maul and it would auto spec</li><li>Karambwan/pizzas/pies/chocolate bomb/tangled toad legs - doesn&#x27;t clear queue, separate from regular food</li><li>Potions and food are separate actions but on the same priority</li><li>Equipping and 1-tick changing</li><li>D-Spear (suspends hits)</li><li>Level teleport interface stall - configure exp drops</li></ul><p>first two foods are cooked at 3 ticks ea, ones after that cook at 4 ticks
most hits are determined upon added to damage queue
combat delay is that of the last weapon attacked with</p></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="https://github.com/RuneDocs/Documentation/edit/master/docs/content/queue.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 40 40" style="margin-right:0.3em;vertical-align:sub"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Blog list page navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/Documentation/docs/content/status-effects/poison"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« Poison</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/Documentation/docs/functionality"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Functionality Â»</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_3SO_"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#ai-queues" class="table-of-contents__link">Ai queues</a></li><li><a href="#weak---cancelled-by-movement" class="table-of-contents__link">Weak - cancelled by movement</a></li><li><a href="#normal---waits-for-interfaces" class="table-of-contents__link">Normal - Waits for interfaces</a></li><li><a href="#strong---closes-interfaces" class="table-of-contents__link">Strong - Closes interfaces</a></li><li><a href="#none" class="table-of-contents__link">None</a></li><li><a href="#interaction-movement" class="table-of-contents__link">Interaction Movement</a></li><li><a href="#food" class="table-of-contents__link">Food</a></li><li><a href="#bury-bones" class="table-of-contents__link">Bury bones</a></li><li><a href="#drop-item--alching" class="table-of-contents__link">Drop item &amp; alching</a></li><li><a href="#interfaces" class="table-of-contents__link">Interfaces</a><ul><li><a href="#interfaces-that-pause-movement" class="table-of-contents__link">Interfaces that pause movement</a></li><li><a href="#interfaces-that-dont-stop-movement" class="table-of-contents__link">Interfaces that don&#39;t stop movement</a></li><li><a href="#interfaces-that-stop-movement" class="table-of-contents__link">Interfaces that stop movement</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">Docs</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/Documentation/docs/">Style Guide</a></li><li class="footer__item"><a class="footer__link-item" href="/Documentation/docs/doc2/">Second Doc</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Community</h4><ul class="footer__items"><li class="footer__item"><a href="https://rune-server.ee/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Rune-Server</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">More</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/Documentation/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/RuneDocs/Documentation" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub</a></li></ul></div></div><div class="text--center"><div>Copyright Â© 2020 RuneDocs. Built with Docusaurus.</div></div></div></footer></div>
<script src="/Documentation/styles.ccaab3c9.js"></script>
<script src="/Documentation/runtime~main.bd39577b.js"></script>
<script src="/Documentation/main.7ff4b300.js"></script>
<script src="/Documentation/1.bd850abb.js"></script>
<script src="/Documentation/2.1cb194f7.js"></script>
<script src="/Documentation/39.bd3f8703.js"></script>
<script src="/Documentation/40.fefb988d.js"></script>
<script src="/Documentation/935f2afb.ce50d10c.js"></script>
<script src="/Documentation/17896441.ef4fa0ad.js"></script>
<script src="/Documentation/c55ee39e.ac45defd.js"></script>
</body>
</html>